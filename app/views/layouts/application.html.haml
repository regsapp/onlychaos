!!!
%html
  %head
    %meta{:charset => "utf-8"}
    %title OnlyChaos
    %meta{:content => "width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no", :name => "viewport"}
    %meta{:content => "", :name => "description"}
    %meta{:content => "", :name => "author"}

    / Le HTML5 shim, for IE6-8 support of HTML5 elements
    /[if lt IE 9]
      = javascript_include_tag "https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js", "https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"

    = stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track' => true
    = javascript_include_tag 'application', 'data-turbolinks-track' => true
    %link{:href => "http://fonts.googleapis.com/css?family=Lato:100,300,400,700", :rel => "stylesheet", :type => "text/css"}
    = csrf_meta_tags

    / TODO choose the right config
    / %script(src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default")
    %script(src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_HTMLorMML-full")
    :javascript
      MathJax.Hub.Config({
        showProcessingMessages: false,
        tex2jax: { inlineMath: [['$$','$$'],['`','`']] },
        "HTML-CSS": {
          styles: {
            ".MathJax_Display": {
              display: "inline"
            }
          }
        }
      });

  %body

    %header
    .nav.left
      %h2.logo OnlyChaos
    .nav.right
      %h3
        Account &#124;
        - if user_signed_in?
          = link_to "Log out", destroy_user_session_path, method: :delete, class: "nav"
        - else
          = link_to "Log in", new_user_session_path, class: "nav"
    .alerts
      - flash.each do |type, msg|
        - if msg.is_a? String
          %div{ class: "alert #{bootstrap_class_for type}" }
            %button.close{ type: 'button', :'data-dismiss' => 'alert', :'aria-hidden' => 'true' } &times;
            = content_tag :div, msg, id: "flash_#{type}"

    = yield
